# SikshaMitra ERP - Production Environment Variables Template
# Copy this file to .env.production and fill in the values
# DO NOT commit .env.production to git!

# ============================================================================
# REQUIRED - Database
# ============================================================================
DATABASE_URL="postgresql://user:password@host:5432/database?schema=public"

# ============================================================================
# REQUIRED - NextAuth Configuration
# ============================================================================
NEXTAUTH_URL="https://your-production-domain.com"
NEXTAUTH_SECRET="your-super-secret-key-at-least-32-characters-long"

# ============================================================================
# REQUIRED - R2 Storage (Cloudflare)
# ============================================================================
R2_ACCOUNT_ID="your-cloudflare-account-id"
R2_ACCESS_KEY_ID="your-r2-access-key-id"
R2_SECRET_ACCESS_KEY="your-r2-secret-access-key"
R2_BUCKET_NAME="your-bucket-name"
R2_PUBLIC_URL="https://your-bucket.r2.dev"

# ============================================================================
# REQUIRED - Payment Gateway (Razorpay)
# ============================================================================
RAZORPAY_KEY_ID="rzp_live_xxxxxxxxxxxx"
RAZORPAY_KEY_SECRET="your-razorpay-secret"
RAZORPAY_WEBHOOK_SECRET="your-webhook-secret"

# ============================================================================
# RECOMMENDED - Error Monitoring (Sentry)
# ============================================================================
# Optional but highly recommended for production
NEXT_PUBLIC_SENTRY_DSN="https://xxxxx@xxxxx.ingest.sentry.io/xxxxx"
SENTRY_AUTH_TOKEN="your-sentry-auth-token"
SENTRY_ORG="your-organization"
SENTRY_PROJECT="your-project"

# ============================================================================
# REQUIRED - Email Service (Choose one)
# ============================================================================

# Option 1: Resend (Recommended)
RESEND_API_KEY="re_xxxxxxxxxxxx"
FROM_EMAIL="noreply@your-domain.com"

# Option 2: SMTP
# SMTP_HOST="smtp.gmail.com"
# SMTP_PORT="587"
# SMTP_USER="your-email@gmail.com"
# SMTP_PASSWORD="your-app-password"
# SMTP_FROM="noreply@your-domain.com"

# ============================================================================
# REQUIRED - SMS Service (Choose one)
# ============================================================================

# Option 1: MSG91
MSG91_AUTH_KEY="your-msg91-auth-key"
MSG91_SENDER_ID="your-sender-id"
MSG91_ROUTE="4"

# Option 2: Twilio
# TWILIO_ACCOUNT_SID="your-account-sid"
# TWILIO_AUTH_TOKEN="your-auth-token"
# TWILIO_PHONE_NUMBER="+1234567890"

# ============================================================================
# OPTIONAL - WhatsApp Integration
# ============================================================================
WHATSAPP_API_KEY="your-whatsapp-api-key"
WHATSAPP_PHONE_NUMBER="your-whatsapp-number"

# ============================================================================
# OPTIONAL - Analytics
# ============================================================================
NEXT_PUBLIC_GA_MEASUREMENT_ID="G-XXXXXXXXXX"

# ============================================================================
# OPTIONAL - Performance Monitoring
# ============================================================================
NEXT_PUBLIC_VERCEL_ANALYTICS_ID="your-vercel-analytics-id"

# ============================================================================
# REQUIRED - Security Configuration
# ============================================================================
# Encryption key for sensitive config data (32 characters minimum)
CONFIG_ENCRYPTION_KEY="your-32-character-encryption-key-here-change-in-production"

# CSRF Protection
CSRF_SECRET="your-csrf-secret-at-least-32-characters"

# Session Configuration
SESSION_MAX_AGE="2592000" # 30 days in seconds

# ============================================================================
# OPTIONAL - Feature Flags
# ============================================================================
NEXT_PUBLIC_ENABLE_REGISTRATION="false"
NEXT_PUBLIC_ENABLE_MAINTENANCE_MODE="false"
NEXT_PUBLIC_ENABLE_BETA_FEATURES="false"

# ============================================================================
# PRODUCTION - Node Environment
# ============================================================================
NODE_ENV="production"

# ============================================================================
# OPTIONAL - Rate Limiting
# ============================================================================
RATE_LIMIT_MAX="100" # requests per window
RATE_LIMIT_WINDOW="60000" # 1 minute in ms

# ============================================================================
# OPTIONAL - Backup Configuration
# ============================================================================
BACKUP_ENABLED="true"
BACKUP_FREQUENCY="daily" # daily, weekly, monthly
BACKUP_RETENTION_DAYS="30"

# ============================================================================
# NOTES
# ============================================================================
#
# 1. SECURITY:
#    - NEVER commit this file with real values to git
#    - Use different secrets for dev/staging/production
#    - Rotate secrets regularly (every 90 days)
#    - Use strong, randomly generated secrets
#
# 2. REQUIRED VARIABLES:
#    Must be set for the app to function:
#    - DATABASE_URL
#    - NEXTAUTH_URL
#    - NEXTAUTH_SECRET
#    - R2_* (all R2 variables)
#    - RAZORPAY_* (all Razorpay variables)
#    - Email service credentials
#    - SMS service credentials
#
# 3. RECOMMENDED VARIABLES:
#    Should be set for production:
#    - NEXT_PUBLIC_SENTRY_DSN (error monitoring)
#    - CONFIG_ENCRYPTION_KEY (data encryption)
#    - CSRF_SECRET (security)
#
# 4. OPTIONAL VARIABLES:
#    Can be set based on needs:
#    - WhatsApp integration
#    - Analytics
#    - Feature flags
#
# 5. GENERATING SECRETS:
#    Use these commands to generate secure secrets:
#
#    openssl rand -base64 32  # For NEXTAUTH_SECRET
#    openssl rand -hex 32     # For CONFIG_ENCRYPTION_KEY
#    node -e "console.log(require('crypto').randomBytes(32).toString('base64'))"
#
# 6. VERCEL DEPLOYMENT:
#    Set these as environment variables in Vercel dashboard:
#    Dashboard > Settings > Environment Variables
#
# 7. HEALTH CHECK:
#    After deployment, verify all services work:
#    - Database connection
#    - R2 file upload
#    - Razorpay payment
#    - Email sending
#    - SMS sending
#
# ============================================================================
