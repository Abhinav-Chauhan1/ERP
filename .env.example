# App
NEXT_PUBLIC_APP_NAME="School ERP"
NEXT_PUBLIC_APP_URL="http://localhost:3000"

# Authentication (NextAuth v5)
# Generate AUTH_SECRET with: openssl rand -base64 32 (or PowerShell equivalent)
# On Windows PowerShell: $bytes = New-Object byte[] 32; [System.Security.Cryptography.RandomNumberGenerator]::Create().GetBytes($bytes); [Convert]::ToBase64String($bytes)
AUTH_SECRET=your_generated_secret_here
# AUTH_URL is required for production deployments
AUTH_URL=http://localhost:3000
# AUTH_TRUST_HOST should be set to "true" for production
AUTH_TRUST_HOST=

# OAuth Provider Credentials (Optional)
# Google OAuth - Get from: https://console.cloud.google.com/apis/credentials
AUTH_GOOGLE_ID=
AUTH_GOOGLE_SECRET=
# GitHub OAuth - Get from: https://github.com/settings/developers
AUTH_GITHUB_ID=
AUTH_GITHUB_SECRET=

# Cloudinary Configuration
NEXT_PUBLIC_CLOUDINARY_CLOUD_NAME=your_cloud_name
NEXT_PUBLIC_CLOUDINARY_API_KEY=your_api_key
NEXT_PUBLIC_CLOUDINARY_UPLOAD_PRESET=your_upload_preset

# Database
DATABASE_URL='postgresql://user:password@host:port/database?sslmode=require'

# Email Service (Resend)
# Get your API key from: https://resend.com/api-keys
# The email service supports:
# - Single and bulk email sending
# - Bounce handling and delivery tracking
# - Retry logic (up to 3 attempts)
# - Template-based emails
RESEND_API_KEY=your_resend_api_key
EMAIL_FROM=noreply@schoolerp.com

# Two-Factor Authentication
# Generate a secure 32-byte key for production: openssl rand -hex 32
TWO_FACTOR_ENCRYPTION_KEY=your_32_byte_hex_key

# Payment Gateway (Razorpay)
# Get your keys from: https://dashboard.razorpay.com/app/keys
RAZORPAY_KEY_ID=your_razorpay_key_id_here
RAZORPAY_KEY_SECRET=your_razorpay_key_secret_here
NEXT_PUBLIC_RAZORPAY_KEY_ID=your_razorpay_key_id_here
RAZORPAY_WEBHOOK_SECRET=your_razorpay_webhook_secret_here

# Rate Limiting (Upstash Redis)
# Optional: Get your credentials from https://console.upstash.com/
# If not configured, the system will use in-memory rate limiting
# UPSTASH_REDIS_REST_URL="https://your-redis-url.upstash.io"
# UPSTASH_REDIS_REST_TOKEN="your_redis_token"

# IP Whitelisting for Admin Routes
# Optional: Comma-separated list of IP addresses or CIDR ranges allowed to access admin routes
# Examples: 
#   Single IP: ADMIN_IP_WHITELIST=192.168.1.100
#   Multiple IPs: ADMIN_IP_WHITELIST=192.168.1.100,10.0.0.50,127.0.0.1
#   CIDR range: ADMIN_IP_WHITELIST=192.168.1.0/24,10.0.0.0/16
# If not configured, all IPs are allowed (development mode)
ADMIN_IP_WHITELIST=

# SMS Gateway Configuration
# The system supports both Twilio (legacy) and MSG91 (recommended for India)
# Use the USE_MSG91 feature flag to switch between providers

# SMS Gateway (Twilio - Legacy)
# Get your credentials from: https://console.twilio.com/
# Keep these for rollback capability even after migrating to MSG91
TWILIO_ACCOUNT_SID=
TWILIO_AUTH_TOKEN=
TWILIO_PHONE_NUMBER=

# SMS Gateway (MSG91 - Recommended for India)
# Get your credentials from: https://msg91.com/
# MSG91 provides cost-effective SMS with DLT compliance for India
# Benefits: 60-70% cost savings, better delivery rates, DLT compliance
MSG91_AUTH_KEY=your_msg91_auth_key
MSG91_SENDER_ID=SCHOOL
MSG91_ROUTE=transactional
MSG91_COUNTRY=91

# WhatsApp Business API
# Get your credentials from: https://developers.facebook.com/apps/
# WhatsApp Business API provides rich messaging capabilities
WHATSAPP_ACCESS_TOKEN=your_whatsapp_access_token
WHATSAPP_PHONE_NUMBER_ID=your_phone_number_id
WHATSAPP_BUSINESS_ACCOUNT_ID=your_business_account_id
WHATSAPP_APP_SECRET=your_app_secret
WHATSAPP_API_VERSION=v18.0
WHATSAPP_VERIFY_TOKEN=your_webhook_verify_token

# Communication Service Feature Flags
# SMS Provider Selection: Set to "true" to use MSG91 instead of Twilio for SMS
# Migration Guide: See docs/TWILIO_TO_MSG91_MIGRATION_GUIDE.md
# Quick Reference: See docs/MSG91_MIGRATION_QUICK_REFERENCE.md
# Rollback: Set USE_MSG91=false to switch back to Twilio
USE_MSG91=false

# WhatsApp Notifications: Set to "true" to enable WhatsApp notifications
USE_WHATSAPP=false

# Cron Job Security
# Secret token for protecting cron job endpoints (e.g., session cleanup)
# Generate with: openssl rand -base64 32
# Required for production deployments with scheduled jobs
CRON_SECRET=

# Feature Flags
# Enhanced Syllabus System - Use new module-based structure instead of legacy units/lessons
# Set to "true" to enable the new module structure, "false" to use legacy structure
NEXT_PUBLIC_USE_ENHANCED_SYLLABUS=true
